(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34339],{19076:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/callback",function(){return o(91963)}])},91963:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Login}});var n=o(85893),l=o(67294),r=o(88329),a=o(68029),c=o(50232),i=o(90092),s=o(48899),u=o(37945),d=o(11163),h=o(10339),g=o.n(h),x=o(47554),f=o(75362),m=o(61202),p=o(79570),b=o(55678),w=o(92638);let Logo=()=>{let e=(0,d.useRouter)();return(0,n.jsx)(a.x,{ml:"16px",mt:"16px",children:(0,n.jsx)(u.E,{cursor:"pointer",onClick:()=>{e.pathname===w.Oq.LIST||e.push(w.Oq.LIST)},src:g(),w:{base:"78px"}})})};var Callback=()=>{let[e,t]=(0,l.useState)(null),o=(0,d.useRouter)(),{frontierSigninFun:r}=(0,p.Z)(),{trigger:u}=(0,f.Z)(x.KG.key,x.KG.fetcher,{});(0,l.useEffect)(()=>{let e=new URLSearchParams(location.search),o=e.get("code"),n=e.get("state");o?handleGoogleCallback(o,n):t("No authorization code found")},[]);let handleGoogleCallback=async(e,n)=>{try{let t=await u({gjwt:e});if(null==t?void 0:t.data){let e={};try{(e=(0,m.o)(t.data)).jwt=t.data}catch(t){e={}}if(void 0!==e.developer_id&&(r(e),!e.picture||!e.name)){b.Am.warning("Please complete your profile"),o.push(w.bV.EDIT);return}}let l=n?decodeURIComponent(n):w.Oq.LIST;o.push(l)}catch(e){console.error("Failed to authenticate with Google",e),t("Failed to authenticate with Google. Please try again.")}};return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Logo,{}),(0,n.jsxs)(a.x,{textAlign:"center",py:10,children:[(0,n.jsx)(c.X,{as:"h2",size:"xl",mb:4,color:"#757575",children:"Authentication Error"}),(0,n.jsx)(i.x,{color:"red",fontSize:"16px",children:e})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Logo,{}),(0,n.jsxs)(a.x,{textAlign:"center",py:10,children:[(0,n.jsx)(c.X,{as:"h2",size:"xl",mb:4,color:"#757575",children:"Authenticating..."}),(0,n.jsx)(s.$,{size:"xl",color:"#757575"})]})]})};function Login(){let e=(0,d.useRouter)();return(0,l.useEffect)(()=>{let e=window.getComputedStyle(document.body).backgroundColor;return document.body.style.backgroundColor="#F9F9FB",document.body.style.overflowX="hidden",()=>{document.body.style.backgroundColor=e,document.body.style.overflowX="initial"}},[]),(0,n.jsx)(r.k,{className:"login-page",flexDir:"column",alignItems:"center",w:"100%",minH:"100vh",bgColor:"#fff",children:(0,n.jsx)(a.x,{w:"100%",children:(0,n.jsx)(Callback,{},e.asPath)})})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=19076)}),_N_E=e.O()}]);